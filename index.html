<!DOCTYPE html>
<html>
<head>
    <title>OAuth Callback Handler</title>
</head>
<body>
    <script>
        function getAuthCode() {
            const queryParams = new URLSearchParams(window.location.search);
            const code = queryParams.get('code');
            if (code) {
                // TODO: Send the code back to your Figma plugin
                console.log("Authorization Code:", code);
                // Display the code for now
                document.body.innerHTML = `<p>Authorization code: ${code}</p>`;
            } else {
                document.body.innerHTML = `<p>No authorization code found in URL.</p>`;
            }
        }

        window.onload = getAuthCode;
    </script>
</body>
</html>
